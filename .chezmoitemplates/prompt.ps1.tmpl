$ompConfigPath = Join-Path -Path $HOME -ChildPath .config | Join-Path -ChildPath 'oh-my-posh' | Join-Path -ChildPath 'night-owl_mac.omp.json'
# chezmoi HomeBrew Shell Env if block {{ if lookPath "/home/linuxbrew/.linuxbrew/bin/brew" }}
& /home/linuxbrew/.linuxbrew/bin/brew shellenv | Invoke-Expression
# end {{ end }}
oh-my-posh init pwsh --config $ompConfigPath | Invoke-Expression

# Custom OMP Prompt Context
function Set-MyOmpContext {
    # Update process level directory. Helps with .Net Methods.
    [System.Environment]::CurrentDirectory = (Get-Location -PSProvider FileSystem).ProviderPath
}
New-Alias -Name 'Set-PoshContext' -Value 'Set-MyOmpContext' -Description 'oh-my-posh Custom alias override' -Force

Remove-Variable 'ompConfigPath'
